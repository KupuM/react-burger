(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{112:function(e,t,r){e.exports={navbar:"navbar_navbar__q1H5d"}},114:function(e,t,r){e.exports={wrapper:"main_wrapper__69uoP"}},116:function(e,t,r){e.exports={navbar:"section-nav_navbar__nIMVJ"}},117:function(e,t,r){e.exports={ingredients:"section-ingredients_ingredients__3Wduw"}},118:function(e,t,r){e.exports={wrapper:"error-indicator_wrapper__28Oai"}},119:function(e,t,r){e.exports={overlay:"modal-overlay_overlay__AKixE"}},120:function(e,t,r){e.exports={wrapper:"page404_wrapper__2MyrB"}},121:function(e,t,r){e.exports={wrapper:"orders-history_wrapper__x1eEk"}},15:function(e,t,r){e.exports={wrapper:"feed_wrapper__2S4I6",leftBlock:"feed_leftBlock__1z5PG",leftBlockWrapper:"feed_leftBlockWrapper__1f2Nd",rightBlockWrapper:"feed_rightBlockWrapper__2SRPj",number:"feed_number__3MBYH",ordersFeedWrapper:"feed_ordersFeedWrapper__3R0jZ",ordersInfoWrapper:"feed_ordersInfoWrapper__KLBna",ordersListsWrapper:"feed_ordersListsWrapper__3c_4I",readyOrdersWrapper:"feed_readyOrdersWrapper__2PCXh",readyOrdersListItems:"feed_readyOrdersListItems__3QGeg",inProgressOrdersWrapper:"feed_inProgressOrdersWrapper__1ZvW1 feed_readyOrdersWrapper__2PCXh",readyOrderslist:"feed_readyOrderslist__2csI2",inProgressOrderslist:"feed_inProgressOrderslist__2WK5g feed_readyOrderslist__2csI2"}},21:function(e,t,r){e.exports={wrapper:"feed-details_wrapper__2m7Zo",ingredients:"feed-details_ingredients__52eti",orderInfo:"feed-details_orderInfo__3MIiE",ingredientWrapper:"feed-details_ingredientWrapper__2t21y",ingredientInfo:"feed-details_ingredientInfo__2DkMP",listWrapper:"feed-details_listWrapper__2-E4B",name:"feed-details_name__2UXn7",title:"feed-details_title__JESNP",done:"feed-details_done__aoIXH",status:"feed-details_status__bSANk",price:"feed-details_price__2m7Z4"}},216:function(e,t,r){},217:function(e,t,r){},218:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(36),s=r.n(a),c=r(79),i=r.n(c),o=r(2),u=r(10),d=r(80),l=r.n(d),p=r(6),j=r(0),b=function(e){var t,r=e.title,n=e.icon,a=e.iconActive,s=e.link,c=e.isStrictMatch,i=Object(u.i)({path:s,strict:!0,sensitive:!0});return t=c?(null===i||void 0===i?void 0:i.isExact)?a:n:i?a:n,Object(j.jsxs)(p.c,{to:{pathname:s},className:"".concat(l.a.button," pt-4 pb-4 pl-5 pr-5 header-nav-button"),activeClassName:l.a.buttonActive,exact:c,children:[t,Object(j.jsx)("span",{className:"text ml-2",children:r})]})},m=r(112),O=r.n(m),f=function(e){return Object(j.jsx)("nav",{className:O.a.navbar,children:e.items.map((function(e,t){return Object(n.createElement)(b,Object(o.a)(Object(o.a)({},e),{},{key:t}))}))})},x=r(4),g=[{title:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",icon:Object(j.jsx)(x.BurgerIcon,{type:"secondary"}),iconActive:Object(j.jsx)(x.BurgerIcon,{type:"primary"}),link:"/",isStrictMatch:!0},{title:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",icon:Object(j.jsx)(x.ListIcon,{type:"secondary"}),iconActive:Object(j.jsx)(x.ListIcon,{type:"primary"}),link:"/feed",isStrictMatch:!0}],h=[{title:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",icon:Object(j.jsx)(x.ProfileIcon,{type:"secondary"}),iconActive:Object(j.jsx)(x.ProfileIcon,{type:"primary"}),link:"/profile",isStrictMatch:!1}],_=function(){return Object(j.jsxs)("header",{className:"".concat(i.a.wrapper," pt-4 pb-4"),children:[Object(j.jsx)(f,{items:g}),Object(j.jsx)("div",{className:i.a.logo,children:Object(j.jsx)(p.b,{to:"/",children:Object(j.jsx)(x.Logo,{})})}),Object(j.jsx)(f,{items:h,isExact:!0})]})},y=r(5),E=r(56),S=r.n(E),v=r(44),I=v.c,w=function(){return Object(v.b)()},R=r(19),N=r.n(R),T=r(25),C="https://norma.nomoreparties.space/api/",A="orders",U=document.getElementById("modal-root"),D="auth/user",k=function(e,t,r){var n=(r=r||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var s=e+"="+(t=encodeURIComponent(t));for(var c in r){s+="; "+c;var i=r[c];!0!==i&&(s+="="+i)}document.cookie=s},q=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},G=function(e){return fetch(C+D,{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8",authorization:q("accessToken")},body:JSON.stringify(e)})},L=function(){var e=Object(T.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(C+"auth/logout",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P="REGISTER_USER_REQUEST",B="REGISTER_USER_SUCCESS",K="REGISTER_USER_ERROR",J="AUTH_USER_REQUEST",z="AUTH_USER_SUCCESS",W="AUTH_USER_ERROR",F="PASSWORD_RESET_REQUEST",M="PASSWORD_RESET_SUCCESS",Q="PASSWORD_RESET_ERROR",H="SET_NEW_PASSWORD_REQUEST",X="SET_NEW_PASSWORD_SUCCESS",Y="SET_NEW_PASSWORD_ERROR",V="GET_USER_REQUEST",Z="GET_USER_SUCCESS",$="GET_USER_ERROR",ee="REFRESH_TOKEN_REQUEST",te="REFRESH_TOKEN_SUCCESS",re="REFRESH_TOKEN_ERROR",ne="EDIT_USER_REQUEST",ae="EDIT_USER_SUCCESS",se="EDIT_USER_ERROR",ce="LOGOUT_USER_REQUEST",ie="LOGOUT_USER_SUCCESS",oe="LOGOUT_USER_ERROR",ue=r(11),de=r(78),le=r.n(de),pe=(r(215),function(e){return le()(new Date(e)).locale("ru").calendar()+" i-GMT+3"}),je=function(e,t){return e.reduce((function(e,r){var n=t.find((function(e){return r===e._id}));return n?[].concat(Object(ue.a)(e),[n]):[]}),[])},be=function(e){return e.reduce((function(e,t){return"bun"===t.type?e+2*t.price:e+t.price}),0)},me=function(e){return e.reduce((function(e,t){return[].concat(Object(ue.a)(e),[t.image_mobile])}),[])},Oe=function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",Promise.reject(new Error(t.statusText)));case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function fe(e){return function(t){t({type:P}),function(e){var t=e.email,r=e.password,n=e.name;return fetch(C+"auth/register",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:t,password:r,name:n})})}(e).then(Oe).then((function(e){e&&e.success?(t({type:B,payload:e}),localStorage.setItem("refreshToken",e.refreshToken),k("accessToken",e.accessToken,{expires:31536e3})):t({type:K})})).catch((function(){t({type:K})}))}}function xe(e){return function(t){t({type:J}),function(e){var t=e.email,r=e.password;return fetch(C+"auth/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:t,password:r})})}(e).then(Oe).then((function(e){e&&e.success?(localStorage.setItem("refreshToken",e.refreshToken),k("accessToken",e.accessToken,{expires:31536e3}),t({type:z,payload:e})):t({type:W,payload:e})})).catch((function(e){t({type:W,payload:e})}))}}function ge(e){return function(t){t({type:F}),function(e){return fetch(C+"password-reset",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:e})})}(e).then(Oe).then((function(e){e&&e.success?t({type:M,payload:e}):t({type:Q})}))}}function he(e){return function(t){t({type:H}),function(e){var t=e.password,r=e.token;return fetch(C+"password-reset/reset",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({password:t,token:r})})}(e).then(Oe).then((function(e){e&&e.success?t({type:X,payload:e}):t({type:Y})}))}}var _e=function e(){return function(t){t({type:V}),fetch(C+D,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8",authorization:q("accessToken")}}).then(Oe).then((function(e){if(e){if(!e.success)throw e;t({type:Z,payload:e})}else t({type:$})})).catch((function(r){"jwt expired"===r.message&&t(ye(e()))}))}},ye=function(e){return function(t){t({type:ee}),fetch(C+"auth/token",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then(Oe).then((function(r){r&&r.success?(t({type:te,payload:r}),k("accessToken",r.accessToken,{expires:31536e3}),localStorage.setItem("refreshToken",r.refreshToken),e&&t(e)):t({type:re})})).catch((function(){t({type:re})}))}};var Ee=function(){var e,t=Object(n.useState)(""),r=Object(y.a)(t,2),a=r[0],s=r[1],c=w(),i=Object(u.g)(),o=I((function(e){return e.userInfo.passwordReset})),d=o.success,l=o.message;return Object(j.jsxs)(j.Fragment,{children:[q("accessToken")&&Object(j.jsx)(u.a,{to:(null===(e=i.location.state)||void 0===e?void 0:e.from)||"/"}),d&&Object(j.jsx)(u.a,{to:"/reset-password"}),Object(j.jsxs)("form",{className:"big-input-container ".concat(S.a.wrapper),onSubmit:function(e){e.preventDefault(),a&&c(ge(a))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(j.jsx)(x.Input,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",name:"email",value:a,onChange:function(e){s(e.target.value)}}),!d&&l&&Object(j.jsx)("p",{className:S.a.errorMessage,children:l}),Object(j.jsx)(x.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(j.jsx)(p.b,{to:"/login",className:S.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})},Se=r(45),ve=r.n(Se),Ie=function(){var e,t=Object(u.g)(),r=Object(n.useState)(""),a=Object(y.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(""),o=Object(y.a)(i,2),d=o[0],l=o[1],b=w(),m=I((function(e){return e.userInfo})),O=m.authUser,f=O.success,g=O.message;return m.loggedIn?Object(j.jsx)(u.a,{to:(null===(e=t.location.state)||void 0===e?void 0:e.from)||"/"}):Object(j.jsxs)("form",{className:"big-input-container ".concat(ve.a.wrapper),onSubmit:function(e){e.preventDefault(),s&&d&&b(xe({email:s,password:d}))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"}),Object(j.jsx)(x.EmailInput,{onChange:function(e){c(e.target.value)},value:s,name:"email"}),Object(j.jsx)(x.PasswordInput,{onChange:function(e){l(e.target.value)},value:d,name:"password"}),!f&&g&&Object(j.jsx)("p",{className:ve.a.errorMessage,children:g}),Object(j.jsx)(x.Button,{type:"primary",size:"medium","data-test-id":"button-login",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? ",Object(j.jsx)(p.b,{to:"/register",className:ve.a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(j.jsx)(p.b,{to:"/forgot-password",className:ve.a.link,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},we=r(114),Re=r.n(we),Ne=r(32),Te=r.n(Ne),Ce=r(225),Ae="ADD_BURGER_CONSTRUCTOR_INGREDIENT",Ue="DELETE_BURGER_CONSTRUCTOR_INGREDIENT",De="UPDATE_BURGER_CONSTRUCTOR_INGREDIENTS_LIST",ke="DELETE_BURGER_CONSTRUCTOR_INGREDIENTS_LIST",qe="ADD_INGREDIENT_DETAILS",Ge="DELETE_INGREDIENT_DETAILS",Le="GET_BURGER_INGREDIENTS_REQUEST",Pe="GET_BURGER_INGREDIENTS_SUCCESS",Be="GET_BURGER_INGREDIENTS_ERROR",Ke="BURGER_INGREDIENT_COUNTER_INCREMENT",Je="BURGER_INGREDIENT_COUNTER_DECREMENT",ze="BURGER_INGREDIENT_COUNTER_RESET",We="UPDATE_ORDER_DETAILS_REQUEST",Fe="UPDATE_ORDER_DETAILS_SUCCESS",Me="UPDATE_ORDER_DETAILS_ERROR",Qe=r(82),He=r.n(Qe),Xe=r(226),Ye=function(e){var t=e.item,r=e.type,a=e.position,s=e.index,c=e.moveCard,i=w(),o="";"top"===a?o=" (\u0432\u0435\u0440\u0445)":"bottom"===a&&(o=" (\u043d\u0438\u0437)");var u="bun"===r,d=Object(n.useRef)(null),l=Object(Ce.a)({accept:"component",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var r;if(d.current){var n=e.index,a=s;if(n!==a){var i=null===(r=d.current)||void 0===r?void 0:r.getBoundingClientRect(),o=(i.bottom-i.top)/2,u=t.getClientOffset().y-i.top;n<a&&u<o||n>a&&u>o||(c(n,a),e.index=a)}}}}),p=Object(y.a)(l,2),b=p[0].handlerId,m=p[1],O=Object(Xe.a)({type:"component",item:function(){return{id:t._id,index:s}},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(y.a)(O,2),g=f[0].isDragging,h=f[1],_=g?0:1;"bun"!==t.type&&h(m(d));return Object(j.jsxs)("li",{className:"".concat(He.a.mainElementsItem," ").concat(u&&"pl-8"),ref:d,style:{opacity:_},onDrop:function(e){return e.preventDefault()},"data-handler-id":b,children:[!u&&Object(j.jsx)("div",{className:He.a.dragIcon,children:Object(j.jsx)(x.DragIcon,{type:"primary"})}),Object(j.jsx)(x.ConstructorElement,{type:a,isLocked:u,text:"".concat(t.name+o),price:t.price,thumbnail:t.image,handleClose:function(){return i({type:Ue,payload:s}),void i({type:Je,payload:{id:t._id}})}})]},t._id)},Ve=r(227),Ze=function(e){var t=e.openModal,r=I((function(e){return e})),a=r.burgerConstructor,s=a.buns,c=a.otherIngredients,i=r.userInfo.loggedIn,d=s.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)+c.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),l=[].concat(Object(ue.a)(s.map((function(e){return e._id})).slice(1)),Object(ue.a)(c.map((function(e){return e._id})))),p=w(),b=Object(u.h)(),m=Object(u.g)(),O=Object(Ce.a)({accept:"ingredients",collect:function(e){return{isHover:e.isOver()}},drop:function(e){p({type:Ae,payload:Object(o.a)(Object(o.a)({},e),{},{dragId:Object(Ve.a)()})}),p({type:Ke,payload:{id:e._id,type:e.type}})}}),f=Object(y.a)(O,2),g=f[0].isHover,h=f[1],_=g&&Te.a.wrapperHover,E=Object(n.useCallback)((function(e,t){var r=c[e],n=Object(ue.a)(c);n.splice(e,1),n.splice(t,0,r),p({type:De,payload:n})}),[c,p]);return Object(j.jsxs)("section",{className:"".concat(Te.a.wrapper," mt-25 ").concat(_),ref:h,"data-test-id":"burger-constructor",children:[!s[0]&&Object(j.jsx)("div",{className:"mt-25 mb-2 pr-4",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(j.jsx)("ul",{className:"".concat(Te.a.topElement," mt-0 mb-2 pr-4"),children:s[0]&&Object(j.jsx)(Ye,{item:s[0],type:"bun",position:"top"})}),Object(j.jsx)("ul",{className:"".concat(Te.a.mainElements),children:c&&c.map((function(e,t){return Object(j.jsx)(Ye,{item:e,type:"main",index:t,moveCard:E},e.dragId)}))}),Object(j.jsx)("ul",{className:"".concat(Te.a.bottomElement," mt-2 mb-0 pr-4"),children:s[0]&&Object(j.jsx)(Ye,{item:s[0],type:"bun",position:"bottom"})}),Object(j.jsxs)("div",{className:Te.a.total,children:[Object(j.jsx)("p",{className:"text text_type_main-large pr-2",children:d}),Object(j.jsx)("span",{className:"pr-10",children:Object(j.jsx)(x.CurrencyIcon,{type:"primary"})}),Object(j.jsx)(x.Button,{onClick:function(){s[0]&&(i?(p({type:ze}),t("modalOrder",l),p({type:ze})):m.push({pathname:"/login",state:{from:b.pathname}}))},type:"primary",size:"large","data-test-id":"button-order",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},$e=r(84),et=r.n($e),tt=r(116),rt=r.n(tt),nt=function(e){var t=e.items,r=e.activeItem,a=Object(n.useState)(r),s=Object(y.a)(a,2),c=s[0],i=s[1],o=function(e){i(e);var t=document.getElementById(e);t&&t.scrollIntoView({block:"start",behavior:"smooth"})};return Object(n.useEffect)((function(){i(r)}),[r]),Object(j.jsx)("nav",{className:"".concat(rt.a.navbar," mb-10"),children:t.map((function(e,t){return Object(j.jsx)(x.Tab,{value:e.type,active:c===e.type,onClick:o,children:e.title},t)}))})},at=r(117),st=r.n(at),ct=r(27),it=r.n(ct),ot=function(e){var t=e.item,r=t.image,n=t.name,a=t.price,s=t._id,c=e.quantity,i=Object(Xe.a)({type:"ingredients",item:e.item,collect:function(e){return{opacity:e.isDragging()?.7:1}}}),o=Object(y.a)(i,2),d=o[0].opacity,l=o[1],b=Object(u.h)();return Object(j.jsx)(p.b,{to:{pathname:"/ingredients/".concat(s),state:{background:b}},className:it.a.link,children:Object(j.jsxs)("li",{className:it.a.item,style:{opacity:d},"data-test-id":"ingredient-item",children:[c&&c>0?Object(j.jsx)("div",{className:it.a.count,children:Object(j.jsx)(x.Counter,{count:c,size:"default"})}):null,Object(j.jsxs)("div",{className:it.a.dragBlock,ref:l,children:[Object(j.jsx)("img",{className:"".concat(it.a.image," mb-1 ml-4 mr-4"),src:r,alt:n}),Object(j.jsxs)("div",{className:"".concat(it.a.price," mb-1"),children:[Object(j.jsx)("p",{className:"text text_type_digits-default mr-2",children:a}),Object(j.jsx)(x.CurrencyIcon,{type:"primary"})]}),Object(j.jsx)("p",{className:"".concat(it.a.name," text text_type_main-default"),children:n})]})]})})},ut=function(e){var t=e.burgerData,r=e.title,n=e.type,a=t.filter((function(e){return e.type===n}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"text text_type_main-medium mb-6",id:n,children:r}),Object(j.jsx)("ul",{className:"".concat(st.a.ingredients," mt-6 mb-0 pl-4 pr-2"),children:a.map((function(e){return Object(j.jsx)(ot,{item:e,quantity:e.counter},e._id)}))})]})},dt=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),r=Object(n.useRef)(null),a=Object(n.useState)("bun"),s=Object(y.a)(a,2),c=s[0],i=s[1],o=[{title:"\u0411\u0443\u043b\u043a\u0438",type:"bun",ref:e},{title:"\u0421\u043e\u0443\u0441\u044b",type:"sauce",ref:t},{title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",type:"main",ref:r}],u=I((function(e){return e.burgerIngredients.burgerIngredientsData}));return Object(j.jsxs)("section",{className:et.a.leftBlock,children:[Object(j.jsx)("h2",{className:"text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(j.jsx)(nt,{items:o,activeItem:c}),Object(j.jsx)("div",{onScroll:function(){var n=document.getElementById("burgerIngredientsWrapper"),a=n?n.getBoundingClientRect().top:0;!function(e,t,r,n){e<n&&t>n?i("bun"):t<n&&r>n?i("sauce"):r<n&&i("main")}(e.current?e.current.getBoundingClientRect().top-10:0,t.current?t.current.getBoundingClientRect().top-10:0,r.current?r.current.getBoundingClientRect().top-10:0,a)},className:et.a.wrapper,id:"burgerIngredientsWrapper",children:o.map((function(e,t){return Object(j.jsx)("section",{ref:e.ref,children:Object(j.jsx)(ut,{burgerData:u,title:e.title,type:e.type})},t)}))})]})},lt=r(85),pt=r.n(lt),jt=function(){return Object(j.jsx)("div",{className:pt.a.wrapper,children:Object(j.jsx)("div",{className:pt.a.spinner,style:{backgroundImage:"url(".concat("data:image/gif;base64,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",")")}})})},bt=r(118),mt=r.n(bt),Ot=function(){return Object(j.jsxs)("div",{className:mt.a.wrapper,children:[Object(j.jsx)("h2",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."}),Object(j.jsx)("p",{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."})]})},ft=r(86),xt=r.n(ft),gt=r(119),ht=r.n(gt),_t=function(e){return Object(j.jsx)("div",{className:ht.a.overlay,onClick:e.onClose,"data-test-id":"modal-overlay"})},yt=function(e){var t=e.onClose,r=e.children,s=function(e){"Escape"===e.key&&t()};return Object(n.useEffect)((function(){return document.addEventListener("keydown",s),function(){return document.removeEventListener("keydown",s)}})),U?Object(a.createPortal)(Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{onClose:t}),Object(j.jsxs)("div",{className:"".concat(xt.a.modal," p-10"),onKeyDown:s,"data-test-id":"modal-window",children:[Object(j.jsx)("div",{className:xt.a.close,"data-test-id":"close-button",children:Object(j.jsx)(x.CloseIcon,{onClick:t,type:"primary"})}),r]})]}),U):null},Et=r(87),St=r.n(Et),vt=r.p+"static/media/done.0c06983c.png",It=function(e){var t=e.orderDetailsData,r=e.loading,n=e.error,a=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"text text_type_digits-large pt-30",children:t.order.number}),Object(j.jsx)("p",{className:"text text_type_main-medium pt-8",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(j.jsx)("img",{src:vt,alt:"\u0433\u043e\u0442\u043e\u0432\u043e",className:"".concat(St.a.image," pt-15")}),Object(j.jsx)("p",{className:"text text_type_main-small pt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(j.jsx)("p",{className:"text text_type_main-small text_color_inactive pt-2",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]});return Object(j.jsxs)("div",{className:"".concat(St.a.container," pb-30"),children:[r&&Object(j.jsx)(jt,{}),n&&Object(j.jsx)(Ot,{}),t.success&&a]})},wt=r(224),Rt=r(123);function Nt(e){return function(t){t({type:We}),function(e){return fetch(C+A,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8",authorization:q("accessToken")},body:JSON.stringify({ingredients:e})})}(e).then(Oe).then((function(e){e&&e.success?(t({type:Fe,payload:e}),t({type:ke})):t({type:Me})})).catch((function(){t({type:Me})}))}}var Tt=function(){var e=Object(n.useState)({isShow:!1,type:null}),t=Object(y.a)(e,2),r=t[0],a=t[1],s=I((function(e){return e.burgerIngredients})),c=s.burgerIngredientsRequest,i=s.burgerIngredientsSuccess,u=s.burgerIngredientsError,d=w(),l=I((function(e){return e.orderDetails})),p=l.orderDetailsData,b=l.updateOrderDetailsRequest,m=l.updateOrderDetailsError;return Object(j.jsxs)("main",{className:Re.a.wrapper,children:[c&&Object(j.jsx)(jt,{}),u&&Object(j.jsx)(Ot,{}),i&&Object(j.jsxs)(wt.a,{backend:Rt.a,children:[Object(j.jsx)(dt,{}),Object(j.jsx)(Ze,{openModal:function(e,t){a({isShow:!0,type:e}),d("modalIngredient"===e?{type:qe,payload:t}:Nt(t))}}),r.isShow&&Object(j.jsx)(yt,{onClose:function(){a(Object(o.a)(Object(o.a)({},r),{},{isShow:!1})),d({type:Ge})},children:Object(j.jsx)(It,{orderDetailsData:p,loading:b,error:m})})]})]})},Ct=r(120),At=r.n(Ct),Ut=function(){return Object(j.jsxs)("div",{className:At.a.wrapper,children:[Object(j.jsx)("h2",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 404..."}),Object(j.jsx)("p",{className:"p-5",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(j.jsx)(p.b,{to:"/",exact:!0,children:Object(j.jsx)(x.Button,{type:"primary",size:"medium",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})})]})},Dt=r(33),kt=r.n(Dt),qt=r(46),Gt=r.n(qt),Lt=function(){var e=w();return Object(j.jsxs)("ul",{className:Gt.a.navbar,children:[Object(j.jsx)("li",{children:Object(j.jsx)(p.c,{to:"/profile",className:"text text_type_main-medium ".concat(Gt.a.button," profile-nav"),exact:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(j.jsx)("li",{children:Object(j.jsx)(p.c,{to:"/profile/orders",className:"text text_type_main-medium ".concat(Gt.a.button," profile-nav"),exact:!0,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:function(){e(function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ce}),L().then(Oe).then((function(e){e&&e.success?(t({type:ie,payload:e}),k("accessToken","",{expires:0}),localStorage.removeItem("refreshToken")):t({type:oe})})).catch((function(){t({type:oe})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"text text_type_main-medium ".concat(Gt.a.button," profile-nav"),children:"\u0412\u044b\u0445\u043e\u0434"})})]})},Pt=r(89),Bt=r.n(Pt),Kt=function(){var e=I((function(e){return e.userInfo.userData.user})),t=e.name,r=e.email,a=Object(n.useState)(t),s=Object(y.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)(r),u=Object(y.a)(o,2),d=u[0],l=u[1],p=Object(n.useState)(""),b=Object(y.a)(p,2),m=b[0],O=b[1],f=Object(n.useState)(!1),g=Object(y.a)(f,2),h=g[0],_=g[1],E=w();return Object(j.jsxs)("form",{className:"big-input-container ".concat(Bt.a.profileForm),onSubmit:function(e){var t;e.preventDefault(),E((t={name:c,email:d,password:m},function(){var e=Object(T.a)(N.a.mark((function e(r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:ne}),G(t).then(Oe).then((function(e){e&&e.success?r({type:ae,payload:e}):r({type:se})})).catch((function(){r({type:se})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),_(!1)},children:[Object(j.jsx)(x.Input,{type:"text",icon:"EditIcon",placeholder:"\u0418\u043c\u044f",onChange:function(e){i(e.target.value),_(!0)},value:c,name:"name"}),Object(j.jsx)(x.Input,{type:"text",icon:"EditIcon",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){l(e.target.value),_(!0)},value:d,name:"email"}),Object(j.jsx)(x.Input,{type:"password",icon:"EditIcon",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){O(e.target.value),_(!0)},value:m,name:"password"}),h&&Object(j.jsxs)("div",{className:Bt.a.footer,children:[Object(j.jsx)(x.Button,{type:"secondary",size:"medium",onClick:function(){i(t),l(r),_(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(j.jsx)(x.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},Jt=r(121),zt=r.n(Jt),Wt="WS_CONNECTION_START",Ft="WS_CONNECTION_START_WITH_TOKEN",Mt="WS_CONNECTION_SUCCESS",Qt="WS_CONNECTION_CLOSE",Ht="WS_GET_MESSAGE",Xt={wsInit:Wt,wsInitWithToken:Ft,wsClose:Qt,onOpen:Mt,onMessage:Ht},Yt=r(28),Vt=r.n(Yt),Zt=r(37),$t=r.n(Zt),er=function(e){var t=e.image,r=e.count;return Object(j.jsx)("div",{className:$t.a.wrapper,children:Object(j.jsxs)("div",{className:$t.a.icon,children:[Object(j.jsx)("img",{src:t,className:r&&r>1?$t.a.imageOpacity:$t.a.image,alt:"ingredient"}),Object(j.jsx)("div",{className:$t.a.text,children:r&&r>1?"+".concat(r):""})]})})},tr=r(57),rr=r.n(tr),nr=function(e){var t=e.numberOfIndividualIcons,r=e.iconsList,n=e.numberOfHiddenIcons,a=r[t-1];return Object(j.jsxs)("ul",{className:rr.a.ingredientIcons,children:[r.map((function(e,r){return Object(j.jsx)("li",{className:rr.a.ingredientsItem,style:{zIndex:t-r,left:48*r},children:Object(j.jsx)(er,{image:e})},r)})),n>0&&Object(j.jsx)("li",{className:rr.a.ingredientsItem,style:{zIndex:0,left:48*t+1},children:Object(j.jsx)(er,{image:a,count:n})},t)]})},ar=function(e){var t=e.orderData,r=I((function(e){return e.burgerIngredients.burgerIngredientsData})),n=Object(u.h)(),a="/feed/";-1!==n.pathname.indexOf("orders")&&(a="/profile/orders/");var s=je(t.ingredients,r),c=me(s).length<5?me(s):me(s).slice(0,5),i=me(s).length-5;return Object(j.jsx)(p.b,{to:{pathname:a+t._id,state:{background:n}},className:Vt.a.link,children:Object(j.jsxs)("div",{className:"".concat(Vt.a.wrapper," p-6 mr-4 mb-4"),children:[Object(j.jsxs)("div",{className:Vt.a.header,children:[Object(j.jsx)("span",{className:"".concat(Vt.a.number," text text_type_digits-default"),children:t.number}),Object(j.jsx)("span",{className:"".concat(Vt.a.date," text text_type_main-small text_color_inactive"),children:pe(t.createdAt)})]}),Object(j.jsx)("div",{className:"text text_type_main-medium mt-6",children:t.name}),Object(j.jsxs)("div",{className:"".concat(Vt.a.inner," mt-6"),children:[Object(j.jsx)(nr,{numberOfIndividualIcons:5,iconsList:c,numberOfHiddenIcons:i}),Object(j.jsxs)("div",{className:"".concat(Vt.a.totalCost," text text_type_digits-default"),children:[Object(j.jsx)("span",{className:"mr-1",children:be(s)})," ",Object(j.jsx)(x.CurrencyIcon,{type:"primary"})]})]})]})})},sr=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),r=t[0],a=t[1],s=w();Object(n.useEffect)((function(){return s({type:Ft}),a(!0),function(){s({type:Qt})}}),[]);var c=I((function(e){return e.websocket})).orders.reverse();return Object(j.jsx)(j.Fragment,{children:r&&c?Object(j.jsx)("div",{className:zt.a.wrapper,children:c.map((function(e){return Object(j.jsx)(ar,{orderData:e},e._id)}))}):Object(j.jsx)(jt,{})})},cr=function(){var e=w(),t=Object(u.i)().path,r=I((function(e){return e.userInfo.userData.user.email})),a=-1!==Object(u.h)().pathname.indexOf("orders");return Object(n.useEffect)((function(){e(_e())}),[e]),Object(j.jsxs)("div",{className:"".concat(kt.a.wrapper," ").concat(a?kt.a.columns2:kt.a.columns3),children:[Object(j.jsxs)("div",{className:kt.a.leftBlock,children:[Object(j.jsx)(Lt,{}),Object(j.jsx)("p",{className:kt.a.infoText,children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(j.jsx)("div",{className:kt.a.centerBlock,children:r?Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:t,exact:!0,children:Object(j.jsx)(Kt,{})}),Object(j.jsx)(u.b,{path:"".concat(t,"/orders"),exact:!0,children:Object(j.jsx)(sr,{})})]}):Object(j.jsx)(jt,{})})]})},ir=r(90),or=r.n(ir),ur=function(){var e,t=Object(n.useState)(""),r=Object(y.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(""),i=Object(y.a)(c,2),o=i[0],d=i[1],l=Object(n.useState)(""),b=Object(y.a)(l,2),m=b[0],O=b[1],f=w(),g=Object(u.g)();return I((function(e){return e.userInfo.loggedIn}))?Object(j.jsx)(u.a,{to:(null===(e=g.location.state)||void 0===e?void 0:e.from)||"/"}):Object(j.jsxs)("form",{className:"big-input-container ".concat(or.a.wrapper),onSubmit:function(e){e.preventDefault(),a&&o&&m&&f(fe({name:a,email:o,password:m}))},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(x.Input,{placeholder:"\u0418\u043c\u044f",name:"name",value:a,onChange:function(e){s(e.target.value)}}),Object(j.jsx)(x.EmailInput,{name:"email",value:o,onChange:function(e){d(e.target.value)}}),Object(j.jsx)(x.PasswordInput,{name:"password",value:m,onChange:function(e){O(e.target.value)}}),Object(j.jsx)(x.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(j.jsx)(p.b,{to:"/login",className:or.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},dr=r(47),lr=r.n(dr),pr=function(){var e,t=Object(n.useState)(""),r=Object(y.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(""),i=Object(y.a)(c,2),o=i[0],d=i[1],l=Object(n.useState)(!0),b=Object(y.a)(l,2),m=b[0],O=b[1],f=w(),g=Object(u.g)(),h=I((function(e){return e.userInfo})),_=h.setNewPassword,E=_.success,S=_.message,v=h.loggedIn,R=I((function(e){return e.userInfo})),N=R.passwordResetSuccess,T=R.setNewPasswordError;Object(n.useEffect)((function(){O(!1)}),[]);return Object(j.jsxs)(j.Fragment,{children:[v&&Object(j.jsx)(u.a,{to:(null===(e=g.location.state)||void 0===e?void 0:e.from)||"/"}),!N&&!T&&Object(j.jsx)(u.a,{to:"/forgot-password"}),Object(j.jsxs)("form",{className:"big-input-container ".concat(lr.a.wrapper),onSubmit:function(e){e.preventDefault(),a&&o&&f(he({password:a,token:o})),O(!0)},children:[Object(j.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(j.jsx)(x.Input,{type:"password",icon:"ShowIcon",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){s(e.target.value)},value:a,name:"password"}),Object(j.jsx)(x.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"code",value:o,onChange:function(e){d(e.target.value)}}),m&&S&&Object(j.jsx)("p",{className:E?lr.a.successMessage:lr.a.errorMessage,children:S}),Object(j.jsx)(x.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? \xa0",Object(j.jsx)(p.b,{to:"/login",className:lr.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})},jr=r(124),br=["children"],mr=function(e){var t=e.children,r=Object(jr.a)(e,br),n=I((function(e){return e.userInfo.loggedIn}));return Object(j.jsx)(u.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){var r=e.location;return n?t:Object(j.jsx)(u.a,{to:{pathname:"/login",state:{from:r}}})}}))},Or=r(38),fr=r.n(Or),xr=function(){var e=Object(u.i)().params.ingredientId,t=I((function(e){return e.burgerIngredients.burgerIngredientsData})),r=Object(u.h)(),n=r.state&&r.state.background;if(0===t.length)return Object(j.jsx)(jt,{});var a,s=(a=e,t.find((function(e){return e._id===a}))),c=s.image_large,i=s.name,o=[{prop:s.calories,title:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438",measure:"\u043a\u043a\u0430\u043b"},{prop:s.proteins,title:"\u0411\u0435\u043b\u043a\u0438",measure:"\u0433"},{prop:s.fat,title:"\u0416\u0438\u0440\u044b",measure:"\u0433"},{prop:s.carbohydrates,title:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b",measure:"\u0433"}].map((function(e,t){var r=e.title,n=e.measure,a=e.prop;return Object(j.jsxs)("div",{className:"".concat(fr.a.propItem," mr-5"),children:[Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:[r,", ",n]}),Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:a})]},t)}));return Object(j.jsxs)("div",{className:n?void 0:fr.a.wrapper,children:[Object(j.jsx)("h3",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(j.jsxs)("div",{className:fr.a.description,children:[Object(j.jsx)("img",{className:fr.a.img,src:c,alt:i}),Object(j.jsx)("p",{className:"text text_type_main-medium mt-4 mb-8",children:i}),Object(j.jsx)("ul",{className:"".concat(fr.a.propsList," mb-5"),children:o})]})]})};function gr(){return function(e){e({type:Le}),fetch(C+"ingredients").then(Oe).then((function(t){e({type:Pe,payload:t.data})})).catch((function(){e({type:Be})}))}}var hr,_r,yr=r(15),Er=r.n(yr),Sr=function(){var e=w(),t=I((function(e){return e.websocket})),r=t.orders,a=t.total,s=t.totalToday;return Object(n.useEffect)((function(){return e({type:Wt}),function(){e({type:Qt})}}),[]),r&&r.length?Object(j.jsxs)("main",{className:"".concat(Er.a.wrapper),children:[Object(j.jsxs)("section",{className:Er.a.leftBlock,children:[Object(j.jsx)("h2",{className:"text_type_main-large mt-10 mb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(j.jsx)("div",{className:Er.a.leftBlockWrapper,children:r.map((function(e){return Object(j.jsx)(ar,{orderData:e},e._id)}))})]}),Object(j.jsxs)("section",{className:"".concat(Er.a.rightBlockWrapper," mt-25"),children:[Object(j.jsxs)("div",{className:"".concat(Er.a.ordersListsWrapper," mb-15"),children:[Object(j.jsxs)("div",{className:Er.a.readyOrdersWrapper,children:[Object(j.jsx)("div",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(j.jsx)("ul",{className:Er.a.readyOrderslist,children:r.filter((function(e){return"done"===e.status})).map((function(e,t){return t>=20?null:Object(j.jsx)("li",{className:"".concat(Er.a.readyOrdersListItems," text text_type_digits-default mb-2"),children:e.number},e._id)}))})]}),Object(j.jsxs)("div",{className:Er.a.inProgressOrdersWrapper,children:[Object(j.jsx)("div",{className:"text text_type_main-medium  mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(j.jsx)("ul",{className:Er.a.inProgressOrderslist,children:r.filter((function(e){return"pending"===e.status})).map((function(e,t){return t>=20?null:Object(j.jsx)("li",{className:"".concat(Er.a.readyOrdersListItems," text text_type_digits-default mb-2"),children:e.number},e._id)}))})]})]}),Object(j.jsxs)("div",{className:"text text_type_main-medium mb-15",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f: ",Object(j.jsx)("br",{})," ",Object(j.jsx)("span",{className:"".concat(Er.a.number," text text_type_digits-large"),children:a})]}),Object(j.jsxs)("div",{className:"text text_type_main-medium",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ",Object(j.jsx)("br",{})," ",Object(j.jsx)("span",{className:"".concat(Er.a.number," text text_type_digits-large"),children:s})]})]})]}):Object(j.jsx)(jt,{})},vr=r(21),Ir=r.n(vr),wr=function(e){var t=e.count;return Object(j.jsxs)("span",{className:"text text_type_digits-default ".concat(Ir.a.price),children:[t,Object(j.jsx)(x.CurrencyIcon,{type:"primary"})]})},Rr=function(e){var t=e.item,r=e.quantity,n="bun"===t.type?2:r;return Object(j.jsxs)("div",{className:Ir.a.ingredientWrapper,children:[Object(j.jsxs)("div",{className:Ir.a.ingredientInfo,children:[Object(j.jsx)(er,{image:t.image_mobile}),Object(j.jsx)("p",{className:"text text_type_main-default ml-4",children:t.name})]}),Object(j.jsx)(wr,{count:"".concat(n," x ").concat(t.price),size:"default"})]})},Nr=function(){var e=w(),t=Object(u.h)(),r=t.state,a=t.pathname,s=Object(u.i)().params.orderId,c=r&&r.background;Object(n.useEffect)((function(){return-1===a.indexOf("feed")||c?c||e({type:Ft}):e({type:Wt}),function(){e({type:Qt})}}),[e,a,c]);var i=Object(n.useCallback)((function(e,t){return t.reduce((function(t,r){return r===e?t+1:t}),0)}),[]),o=I((function(e){return e.burgerIngredients.burgerIngredientsData})),d=I((function(e){return e.websocket.orders}));if(!d||0===d.length)return Object(j.jsx)(jt,{});var l=function(e){return d.find((function(t){return t._id===e}))}(s),p=l.number,b=l.name,m=l.status,O=l.createdAt,f=l.ingredients,g=je(f,o),h=g.filter((function(e){return f.includes(e._id)})),_=Array.from(new Set(h));return Object(j.jsxs)("div",{className:c?void 0:Ir.a.wrapper,children:[Object(j.jsxs)("p",{className:"text text_type_digits-default mt-3 mb-10",children:["#",p]}),Object(j.jsx)("p",{className:"".concat(Ir.a.name," text text_type_main-medium mb-3"),children:b}),Object(j.jsx)("p",{className:"".concat(Ir.a.status," ").concat("done"===m&&Ir.a.done," text text_type_main-small mb-15"),children:m}),Object(j.jsxs)("div",{className:"".concat(Ir.a.ingredients),children:[Object(j.jsx)("h3",{className:"".concat(Ir.a.title," text text_type_main-medium mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(j.jsx)("div",{className:"".concat(Ir.a.listWrapper," custom-scroll"),children:_.map((function(e){return Object(j.jsx)(Rr,{item:e,quantity:i(e._id,f)},e._id)}))})]}),Object(j.jsxs)("div",{className:Ir.a.orderInfo,children:[Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:pe(O)}),Object(j.jsxs)("span",{className:"text text_type_digits-default ".concat(Ir.a.price),children:[be(g),Object(j.jsx)(x.CurrencyIcon,{type:"primary"})]})]})]})},Tr=function(){var e=function(){var e=w(),t=Object(u.h)(),r=Object(u.g)(),a=t.state&&t.state.background;Object(n.useEffect)((function(){e(gr()),e(_e())}),[e]);var s=function(){r.goBack()};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(_,{}),Object(j.jsxs)(u.d,{location:a||t,children:[Object(j.jsx)(u.b,{path:"/",exact:!0,children:Object(j.jsx)(Tt,{})}),Object(j.jsx)(u.b,{path:"/ingredients/:ingredientId",exact:!0,children:Object(j.jsx)(xr,{})}),Object(j.jsx)(u.b,{path:"/feed/",exact:!0,children:Object(j.jsx)(Sr,{})}),Object(j.jsx)(u.b,{path:"/feed/:orderId",exact:!0,children:Object(j.jsx)(Nr,{})}),Object(j.jsx)(u.b,{path:"/login",exact:!0,children:Object(j.jsx)(Ie,{})}),Object(j.jsx)(mr,{path:"/profile/orders/:orderId",exact:!0,children:Object(j.jsx)(Nr,{})}),Object(j.jsx)(mr,{path:"/profile",children:Object(j.jsx)(cr,{})}),Object(j.jsx)(mr,{path:"/profile/orders",exact:!0,children:Object(j.jsx)(cr,{})}),Object(j.jsx)(u.b,{path:"/register",exact:!0,children:Object(j.jsx)(ur,{})}),Object(j.jsx)(u.b,{path:"/forgot-password",exact:!0,children:Object(j.jsx)(Ee,{})}),Object(j.jsx)(u.b,{path:"/reset-password",exact:!0,children:Object(j.jsx)(pr,{})}),Object(j.jsx)(u.b,{children:Object(j.jsx)(Ut,{})})]}),a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.b,{path:"/ingredients/:ingredientId",children:Object(j.jsx)(yt,{onClose:s,children:Object(j.jsx)(xr,{})})}),Object(j.jsx)(u.b,{path:"/feed/:orderId",children:Object(j.jsx)(yt,{onClose:s,children:Object(j.jsx)(Nr,{})})}),Object(j.jsx)(mr,{path:"/profile/orders/:orderId",children:Object(j.jsx)(yt,{onClose:s,children:Object(j.jsx)(Nr,{})})})]})]})};return Object(j.jsx)(p.a,{basename:"/react-burger",children:Object(j.jsx)(e,{})})},Cr=(r(216),r(217),r(26)),Ar=r(122),Ur={burgerIngredientsRequest:!1,burgerIngredientsSuccess:!1,burgerIngredientsError:!1,burgerIngredientsData:[]},Dr=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Le:return Object(o.a)(Object(o.a)({},r),{},{burgerIngredientsRequest:!0,burgerIngredientsSuccess:!1,burgerIngredientsError:!1});case Pe:return Object(o.a)(Object(o.a)({},r),{},{burgerIngredientsRequest:!1,burgerIngredientsSuccess:!0,burgerIngredientsError:!1,burgerIngredientsData:n.payload});case Be:return Object(o.a)(Object(o.a)({},Ur),{},{burgerIngredientsRequest:!1,burgerIngredientsSuccess:!1,burgerIngredientsError:!0});case Ke:return(e=r.burgerIngredientsData.find((function(e){return e._id===n.payload.id}))).counter=e.counter||0,t=r.burgerIngredientsData.map((function(t){return"bun"===t.type&&t._id===n.payload.id?Object(o.a)(Object(o.a)({},e),{},{counter:2}):"bun"===t.type&&"bun"===n.payload.type&&t._id!==n.payload.id?Object(o.a)(Object(o.a)({},t),{},{counter:0}):"bun"!==t.type&&t._id===n.payload.id?Object(o.a)(Object(o.a)({},e),{},{counter:e.counter+1}):t})),Object(o.a)(Object(o.a)({},r),{},{burgerIngredientsData:Object(ue.a)(t)});case Je:return e=r.burgerIngredientsData.find((function(e){return e._id===n.payload.id})),t=r.burgerIngredientsData.map((function(t){return t._id===n.payload.id?Object(o.a)(Object(o.a)({},e),{},{counter:e.counter-1}):t})),Object(o.a)(Object(o.a)({},r),{},{burgerIngredientsData:Object(ue.a)(t)});case ze:return t=r.burgerIngredientsData.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{counter:0})})),Object(o.a)(Object(o.a)({},r),{},{burgerIngredientsData:Object(ue.a)(t)});default:return r}},kr={buns:[],otherIngredients:[]},qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return"bun"===t.payload.type?{buns:[].concat(Object(ue.a)(kr.buns),[t.payload,t.payload]),otherIngredients:Object(ue.a)(e.otherIngredients)}:{buns:Object(ue.a)(e.buns),otherIngredients:[].concat(Object(ue.a)(e.otherIngredients),[t.payload])};case Ue:return{buns:Object(ue.a)(e.buns),otherIngredients:[].concat(Object(ue.a)(e.otherIngredients.slice(0,t.payload)),Object(ue.a)(e.otherIngredients.slice(t.payload+1)))};case De:return{buns:Object(ue.a)(e.buns),otherIngredients:Object(ue.a)(t.payload)};case ke:return{buns:kr.buns,otherIngredients:kr.otherIngredients};default:return e}},Gr={_id:""},Lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(o.a)(Object(o.a)({},e),{},{_id:t.payload});case Ge:return Object(o.a)({},Gr);default:return e}},Pr={updateOrderDetailsRequest:!1,updateOrderDetailsSuccess:!1,updateOrderDetailsError:!1,orderDetailsData:{success:!1,name:"",order:{_id:"",ingredients:[],status:"",name:"",createdAt:"",updatedAt:"",number:0}},postOrderRequest:!1,postOrderSuccess:!1,postOrderError:!1},Br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return Object(o.a)(Object(o.a)({},e),{},{updateOrderDetailsRequest:!0,updateOrderDetailsSuccess:!1,updateOrderDetailsError:!1,orderDetailsData:Pr.orderDetailsData});case Fe:return Object(o.a)(Object(o.a)({},e),{},{updateOrderDetailsRequest:!1,updateOrderDetailsSuccess:!0,updateOrderDetailsError:!1,orderDetailsData:t.payload});case Me:return Object(o.a)(Object(o.a)({},Pr),{},{updateOrderDetailsRequest:!1,updateOrderDetailsSuccess:!1,updateOrderDetailsError:!0});default:return e}},Kr={registerUserRequest:!1,registerUserSuccess:!1,registerUserError:!1,userData:{success:!1,user:{email:"",name:""}},authUserRequest:!1,authUserSuccess:!1,authUserError:!1,authUser:{success:!1,message:""},passwordResetRequest:!1,passwordResetSuccess:!1,passwordResetError:!1,passwordReset:{success:!1,message:""},setNewPasswordRequest:!1,setNewPasswordSuccess:!1,setNewPasswordError:!1,setNewPassword:{success:!1,message:""},refreshTokenRequest:!1,refreshTokenSuccess:!1,refreshTokenError:!1,logoutUserRequest:!1,logoutUserSuccess:!1,logoutUserError:!1,logoutUser:{success:!1,message:""},loggedIn:!1,getUserRequest:!1,getUserSuccess:!1,getUserError:!1,editUserRequest:!1,editUserSuccess:!1,editUserError:!1},Jr={wsConnectionStart:!1,wsConnectionSuccess:!1,orders:[],total:0,totalToday:0},zr=Object(Cr.b)({burgerIngredients:Dr,burgerConstructor:qr,ingredientDetails:Lr,orderDetails:Br,userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(o.a)(Object(o.a)({},e),{},{registerUserRequest:!0,registerUserSuccess:!1,registerUserError:!1,userData:Kr.userData});case B:return Object(o.a)(Object(o.a)({},e),{},{registerUserRequest:!1,registerUserSuccess:!0,registerUserError:!1,userData:t.payload,loggedIn:!0});case K:return Object(o.a)(Object(o.a)({},Kr),{},{registerUserRequest:!1,registerUserSuccess:!1,registerUserError:!0});case J:return Object(o.a)(Object(o.a)({},e),{},{authUserRequest:!0,authUserSuccess:!1,authUserError:!1,userData:Kr.userData,authUser:Kr.authUser});case z:return Object(o.a)(Object(o.a)({},e),{},{authUserRequest:!1,authUserSuccess:!0,authUserError:!1,userData:t.payload,authUser:Kr.authUser,loggedIn:!0});case W:return Object(o.a)(Object(o.a)({},Kr),{},{authUserRequest:!1,authUserSuccess:!1,authUserError:!0,userData:Kr.userData,authUser:t.payload});case F:return Object(o.a)(Object(o.a)({},e),{},{passwordResetRequest:!0,passwordResetSuccess:!1,passwordResetError:!1,passwordReset:Kr.passwordReset});case M:return Object(o.a)(Object(o.a)({},e),{},{passwordResetRequest:!1,passwordResetSuccess:!0,passwordResetError:!1,passwordReset:t.payload});case Q:return Object(o.a)(Object(o.a)({},Kr),{},{passwordResetRequest:!1,passwordResetSuccess:!1,passwordResetError:!0,passwordReset:{success:!1,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"}});case H:return Object(o.a)(Object(o.a)({},e),{},{setNewPasswordRequest:!0,setNewPasswordSuccess:!1,setNewPasswordError:!1,setNewPassword:Kr.setNewPassword});case X:return Object(o.a)(Object(o.a)({},e),{},{setNewPasswordRequest:!1,setNewPasswordSuccess:!0,setNewPasswordError:!1,setNewPassword:t.payload});case Y:return Object(o.a)(Object(o.a)({},Kr),{},{setNewPasswordRequest:!1,setNewPasswordSuccess:!1,setNewPasswordError:!0,setNewPassword:{success:!1,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0430\u0440\u043e\u043b\u044f"}});case ee:return Object(o.a)(Object(o.a)({},e),{},{refreshTokenRequest:!0,refreshTokenSuccess:!1,refreshTokenError:!1,userData:Object(o.a)(Object(o.a)({},e.userData),{},{success:!1}),authUser:Kr.authUser});case te:return Object(o.a)(Object(o.a)({},e),{},{refreshTokenRequest:!1,refreshTokenSuccess:!0,refreshTokenError:!1,userData:Object(o.a)(Object(o.a)({},e.userData),t.payload),authUser:Kr.authUser});case re:return Object(o.a)(Object(o.a)({},Kr),{},{refreshTokenRequest:!1,refreshTokenSuccess:!1,refreshTokenError:!0,userData:Object(o.a)(Object(o.a)({},e.userData),{},{success:!1}),authUser:Kr.authUser});case V:return Object(o.a)(Object(o.a)({},e),{},{getUserRequest:!0,getUserSuccess:!1,getUserError:!1,userData:e.userData});case Z:return Object(o.a)(Object(o.a)({},e),{},{getUserRequest:!1,getUserSuccess:!0,getUserError:!1,userData:Object(o.a)(Object(o.a)({},e.userData),t.payload),loggedIn:!0});case $:return Object(o.a)(Object(o.a)({},e),{},{getUserRequest:!1,getUserSuccess:!1,getUserError:!0,userData:Object(o.a)(Object(o.a)({},e.userData),{},{user:Kr.userData.user})});case ne:return Object(o.a)(Object(o.a)({},e),{},{editUserRequest:!0,editUserSuccess:!1,editUserError:!1,userData:Object(o.a)({},e.userData)});case ae:return Object(o.a)(Object(o.a)({},e),{},{editUserRequest:!1,editUserSuccess:!0,editUserError:!1,userData:Object(o.a)(Object(o.a)({},e.userData),t.payload)});case se:return Object(o.a)(Object(o.a)({},e),{},{editUserRequest:!1,editUserSuccess:!1,editUserError:!0,userData:Object(o.a)(Object(o.a)({},e.userData),{},{user:Kr.userData.user})});case ce:return Object(o.a)(Object(o.a)({},e),{},{logoutUserRequest:!0,logoutUserSuccess:!1,logoutUserError:!1});case ie:return Object(o.a)(Object(o.a)({},Kr),{},{logoutUserRequest:!1,logoutUserSuccess:!0,logoutUserError:!1,logoutUser:t.payload});case oe:return Object(o.a)(Object(o.a)({},Kr),{},{logoutUserRequest:!1,logoutUserSuccess:!1,logoutUserError:!0});default:return e}},websocket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:case Ft:return Object(o.a)(Object(o.a)({},e),{},{wsConnectionStart:!0,wsConnectionSuccess:!1});case Mt:return Object(o.a)(Object(o.a)({},e),{},{wsConnectionStart:!1,wsConnectionSuccess:!0});case Qt:return Object(o.a)(Object(o.a)({},e),{},{wsConnectionStart:!1,wsConnectionSuccess:!1});case Ht:return Object(o.a)(Object(o.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}}}),Wr=zr,Fr=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Cr.c)(Object(Cr.a)(Ar.a,(hr="".concat("wss://norma.nomoreparties.space","/orders"),_r=Xt,function(e){var t=null;return function(r){return function(n){var a=e.dispatch,s=n.type,c=_r.wsInit,i=_r.wsInitWithToken,o=_r.wsClose,u=_r.onOpen,d=_r.onMessage;s===c&&(t=new WebSocket("".concat(hr,"/all"))),s===i&&(t=new WebSocket("".concat(hr,"?token=").concat(q("accessToken").slice(7)))),t&&(s===o&&t.close(1e3,"Closed by user"),t.onopen=function(e){a({type:u,payload:e})},t.onmessage=function(e){var t=JSON.parse(e.data);a({type:d,payload:t})},t.onclose=function(e){console.log("WS connection closed")}),r(n)}}}))),Mr=Object(Cr.d)(Wr,Fr);s.a.render(Object(j.jsx)(v.a,{store:Mr,children:Object(j.jsx)(Tr,{})}),document.getElementById("root"))},27:function(e,t,r){e.exports={item:"ingredients-item_item__3qcWb",dragBlock:"ingredients-item_dragBlock__2ZcDB",price:"ingredients-item_price__1a8FJ",name:"ingredients-item_name__2mvr8",image:"ingredients-item_image__3W7Yt",link:"ingredients-item_link__2Tjvj"}},28:function(e,t,r){e.exports={wrapper:"feed-item_wrapper__15g78",header:"feed-item_header__2qw6H",number:"feed-item_number__38D3G",date:"feed-item_date__3UOY6",inner:"feed-item_inner__2qGV9",totalCost:"feed-item_totalCost__-hXhY",link:"feed-item_link__1CImq"}},32:function(e,t,r){e.exports={wrapper:"burger-constructor_wrapper__3y1z5",wrapperHover:"burger-constructor_wrapperHover__2nlNi",mainElements:"burger-constructor_mainElements__2oFtT",container:"burger-constructor_container__332QY",total:"burger-constructor_total__2z4fk"}},33:function(e,t,r){e.exports={wrapper:"profile_wrapper__1Oz3z",columns2:"profile_columns2__2wdYO",columns3:"profile_columns3__20gi4",leftBlock:"profile_leftBlock__3s-9i",centerBlock:"profile_centerBlock__26G4S",infoText:"profile_infoText__1SOut",link:"profile_link__1-1p8"}},37:function(e,t,r){e.exports={wrapper:"feed-item-ingredient-icon_wrapper__--6E0",icon:"feed-item-ingredient-icon_icon__3-B7Q",image:"feed-item-ingredient-icon_image__TUiK3",imageOpacity:"feed-item-ingredient-icon_imageOpacity__3zu4k",text:"feed-item-ingredient-icon_text__2jEAC"}},38:function(e,t,r){e.exports={wrapper:"ingredient-details_wrapper__39_0t",description:"ingredient-details_description__1Lsj6",propsList:"ingredient-details_propsList__1C4Vv",propItem:"ingredient-details_propItem__1oJIe"}},45:function(e,t,r){e.exports={wrapper:"login_wrapper__1qEM9",link:"login_link__2bcVJ",errorMessage:"login_errorMessage__3JWxv"}},46:function(e,t,r){e.exports={navbar:"profile-nav_navbar__23YXI",button:"profile-nav_button__2DTrJ"}},47:function(e,t,r){e.exports={wrapper:"reset-password_wrapper__EF4ow",link:"reset-password_link__2wk5C",errorMessage:"reset-password_errorMessage__1rik7",successMessage:"reset-password_successMessage__31ZnJ"}},56:function(e,t,r){e.exports={wrapper:"forgot-password_wrapper__2AMTz",link:"forgot-password_link__1xRFL",errorMessage:"forgot-password_errorMessage__1QXnu"}},57:function(e,t,r){e.exports={ingredientIcons:"ingredients-icons-list_ingredientIcons__3F-Br",ingredientsItem:"ingredients-icons-list_ingredientsItem__1doBA"}},79:function(e,t,r){e.exports={wrapper:"app-header_wrapper__ECTu6",logo:"app-header_logo__zVEfY"}},80:function(e,t,r){e.exports={button:"nav-button_button__1MvJY",buttonActive:"nav-button_buttonActive__2h9zX"}},82:function(e,t,r){e.exports={mainElementsItem:"burger-constructor-item_mainElementsItem__z0Vow",dragIcon:"burger-constructor-item_dragIcon__28n0u"}},84:function(e,t,r){e.exports={leftBlock:"burger-ingredients_leftBlock__1fc-E",wrapper:"burger-ingredients_wrapper__4IsT5"}},85:function(e,t,r){e.exports={wrapper:"spinner_wrapper__3dV28",spinner:"spinner_spinner__21x4r"}},86:function(e,t,r){e.exports={modal:"modal_modal__1DF1f",close:"modal_close__1Iez6"}},87:function(e,t,r){e.exports={container:"order-details_container__1PXDt"}},89:function(e,t,r){e.exports={profileForm:"edit-user_profileForm__EVRQY",footer:"edit-user_footer__2OL1I"}},90:function(e,t,r){e.exports={wrapper:"register_wrapper__29oUW",link:"register_link__2XLtm"}}},[[218,1,2]]]);
//# sourceMappingURL=main.6cba3c51.chunk.js.map